{"version":3,"sources":["components/Numbers.js","components/Filter.js","components/AddNumber.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Numbers","_ref","persons","filter","handleDelete","personsToShow","person","name","toLowerCase","includes","react_default","a","createElement","map","i","key","id","number","value","onClick","Filter","newFilter","onChange","AddNumber","onSubmit","newName","onNameChange","newNumber","onNumberChange","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","isError","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","notification","setNotification","_useState11","_useState12","error","setError","useEffect","personService","notify","setTimeout","components_Notification","components_Filter","event","target","components_AddNumber","preventDefault","willAdd","willOverwrite","forEach","item","index","array","window","confirm","personObject","console","log","returnedPerson","catch","find","p","components_Numbers","removedId","removedName","makeSure","newPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e3720a57.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Numbers = ({persons, filter, handleDelete}) => {\r\n    const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n    const rows = () => personsToShow.map((person, i) => (\r\n        <div key={person.id}>\r\n            {person.name} {person.number}\r\n            <button value={person.id} onClick={handleDelete}>delete</button>\r\n        </div>\r\n    ))\r\n\r\n    return(\r\n        <div>\r\n            <h2>Numbers</h2>\r\n            {rows()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst Filter = ({newFilter, onChange}) => {\r\n    return(\r\n        <div>\r\n        filter shown with <input value={newFilter} onChange={onChange}/>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst AddNumber = ({onSubmit, newName, onNameChange, newNumber, onNumberChange}) => {\r\n    return(\r\n        <div>\r\n            <h2>Add a new</h2>\r\n            <form onSubmit={onSubmit}>\r\n                <div>\r\n                name: <input value={newName} onChange={onNameChange}/>\r\n                </div>\r\n                <div>\r\n                number: <input value={newNumber} onChange={onNumberChange}/>\r\n                </div>\r\n                <div>\r\n                <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddNumber","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React from 'react'\r\n\r\nconst Notification = ({message, isError}) => {\r\n\r\n    const style = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }\r\n\r\n    if(isError) {\r\n        style.color = 'red'\r\n    }\r\n\r\n    if(message === null){\r\n        return null\r\n    }\r\n\r\n    return(\r\n        <div className=\"notification\" style={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Numbers from './components/Numbers'\nimport Filter from './components/Filter'\nimport AddNumber from './components/AddNumber'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([/* { \n      name: 'Arto Hellas',\n      number: '123-1231231',\n      id: 0\n    },{\n      name: 'Ada Lovelace',\n      number: '39-44-532532',\n      id: 1\n    },{\n      name: 'Joakim Riikonen',\n      number: '123-1231231',\n      id: 2\n    } */\n  ]) \n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ error, setError ] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n  const notify = (message, isError) => {\n    setNotification(message)\n    setError(isError)\n    setTimeout(() => {\n      setNotification(null)\n    },5000)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    let willAdd = true\n    let willOverwrite = false\n    persons.forEach((item, index, array) => {\n      if(item.name === newName){\n        willAdd = false\n        willOverwrite = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      }\n    })\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if(willAdd){\n      console.log('add')\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          notify(`Added ${returnedPerson.name}`, false)\n        })\n        .catch((error) => {\n          console.log(error.response.data)\n          notify(error.response.data.error, true)\n        })\n    }\n    if(willOverwrite){\n      console.log('overwrite')\n      let id = persons.find(p => p.name === newName).id\n       personService\n        .update(id, personObject)\n        .then(returnedPerson => {\n          console.log(returnedPerson)\n          setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          notify(`Modified ${returnedPerson.name}`, false)\n        })\n    }\n\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = (event) => {\n    let removedId = event.target.value\n    let removedName = persons.find(p => p.id === removedId).name\n    let makeSure = window.confirm(`Delete ${removedName}`)\n\n    console.log('remove', removedId)\n    if(makeSure){\n      personService\n        .remove(removedId)\n        .then(response => {\n          let newPersons = persons.filter(person => person.id !== removedId)\n          setPersons(newPersons)\n          notify(`Removed ${removedName}`, false)\n        })\n        .catch(error =>{\n          notify(`${removedName} was already deleted from the server`, true)\n          setPersons(persons.filter(p => p.id !== removedId))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={notification} isError={error}/>\n\n      <Filter newFilter={newFilter} onChange={handleFilterChange}/>\n      <AddNumber\n        onSubmit={addName} \n        newName={newName} \n        onNameChange={handleNameChange}\n        newNumber={newNumber}\n        onNumberChange={handleNumberChange}\n      />\n      <Numbers persons={persons} filter={newFilter} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}